<?php

$exp_conf = [
    9,
    19,
    30,
    42,
    55,
    69,
    85,
    103,
    122,
    143,
    167,
    192,
    221,
    252,
    286,
    324,
    365,
    410,
    460,
    515,
    576,
    643,
    716,
    796,
    885,
    983,
    1090,
    1208,
    1338,
    1480,
    1637,
    1810,
    2000,
    2209,
    2439,
    2692,
    2970,
    3276,
    3613,
    3983,
    4391,
    4839,
    5332,
    5874,
    6470,
    7126,
    7848,
    8642,
    9515,
    10475,
    11532,
    12694,
    13972,
    15378,
    16925,
    18627,
    20499,
    22557,
    24822,
    27313,
    30054,
    33068,
    36384,
    40031,
    44043,
    48457,
    53311,
    58652,
    64526,
    70987,
    78095,
    85913,
    94514,
    103974,
    114381,
    125828,
    138419,
    152270,
    167506,
    184266,
    202702,
    222981,
    245288,
    269826,
    296817,
    326508,
    359168,
    395094,
    434612,
    478082,
    525899,
    578498,
    636357,
    700002,
    770011,
    847021,
    931732,
    1024914
];

/** 通过经验计算等级，从1开始 */
function getLevelByExp($exp)
{
    global $exp_conf;
    for ($i = sizeof($exp_conf) - 1; $i > 0; $i--) {
        if ($exp_conf[$i] <= $exp) {
            /** 等级为数组下标加1*/
            return $i + 1;
        }
    }
    return 1;
}

/** 获取等级对应的最大经验值，等级从1开始*/
function getLevelExpMax($level)
{
    global $exp_conf;
    return $exp_conf[$level - 1];
}